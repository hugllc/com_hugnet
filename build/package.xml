<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by PHP Project Wizard (PPW) 1.0.4 on Mon Oct 3 15:21:39 CDT 2011 -->

<project name="package" default="build" basedir=".">
    <property name="pkg.source" value="${basedir}/src"/>
    <property name="pkg.release" value="" />
    <property name="versionfile" value="${basedir}/src/hugnet.xml" />
    <xmlproperty file="${basedir}/src/hugnet.xml"/>
    <property name="pkg.version" value="${install.version}" />
    <property name="pkg.buildname" value="ComHUGnet-${pkg.version}" />
    <property name="pkg.staging" value="${basedir}/build/staging/"/>
    <property name="pkg.downloaddir" value="${basedir}/build/download/"/>
    <property name="pkg.builddir" value="${basedir}/rel/" />
    <property name="pkg.buildtarget" value="${pkg.builddir}/${pkg.buildname}" />

    <target name="clean" description="Clean up and create artifact directories">
        <delete dir="${pkg.staging}" failonerror="false"/>
        <delete failonerror="false">
            <fileset dir="${pkg.builddir}" includes="*.tar"/>
            <fileset dir="${pkg.builddir}" includes="*.tar.gz"/>
            <fileset dir="${pkg.builddir}" includes="*.tar."/>
        </delete>
    </target>

    <target name="setup" description="Copy all of the files to build the deb">
        <echo>Setting up for ComHUGnet 'v${pkg.version}'</echo>
        <mkdir dir="${pkg.staging}/${pkg.buildname}"/>
        <mkdir dir="${pkg.downloaddir}" />
        <copy todir="${pkg.staging}/${pkg.buildname}">
            <fileset dir="${pkg.source}"/>
        </copy>
    </target>
    <target name="release" description="build the release files">
        <tar destfile="${pkg.buildtarget}.tar.gz"
            basedir="${pkg.staging}" compression="gzip" longfile="gnu"/>
        <checksum file="${pkg.buildtarget}.tar.gz" todir="${pkg.builddir}"
                        algorithm="sha1" format="MD5SUM"/>
        <checksum file="${pkg.buildtarget}.tar.gz" todir="${pkg.builddir}"
                        algorithm="md5" format="MD5SUM"/>
        <tar destfile="${pkg.buildtarget}.tar.bz2"
            basedir="${pkg.staging}" compression="bzip2" longfile="gnu"/>
        <checksum file="${pkg.buildtarget}.tar.bz2" todir="${pkg.builddir}"
                        algorithm="sha1" format="MD5SUM"/>
        <checksum file="${pkg.buildtarget}.tar.bz2" todir="${pkg.builddir}"
                        algorithm="md5" format="MD5SUM"/>
        <zip destfile="${pkg.buildtarget}.zip"
            basedir="${pkg.staging}"/>
        <checksum file="${pkg.buildtarget}.zip" todir="${pkg.builddir}"
                        algorithm="sha1" format="MD5SUM"/>
        <checksum file="${pkg.buildtarget}.zip" todir="${pkg.builddir}"
                        algorithm="md5" format="MD5SUM"/>
    </target>
    <target name="postclean" description="build the deb">
        <!--<delete dir="${pkg.staging}"/>-->
    </target>
    <target name="build" depends="clean,setup,release,postclean"/>
</project>
